@echo off
echo ========================================
echo    üöÄ –ü–û–†–¢–§–û–õ–ò–û - –ó–ê–ü–£–°–ö DEV-–°–ï–†–í–ï–†–ê
echo ========================================
echo.

echo [1/4] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤...
taskkill /IM node.exe /F >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚úÖ –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Node.js
) else (
    echo ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å—ã Node.js –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
)

echo.
echo [2/4] –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Next.js...
if exist ".next" (
    rmdir /s /q ".next"
    echo ‚úÖ –ö—ç—à .next –æ—á–∏—â–µ–Ω
) else (
    echo ‚úÖ –ö—ç—à .next –Ω–µ –Ω–∞–π–¥–µ–Ω
)

echo.
echo [3/4] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
if not exist "node_modules" (
    echo üîÑ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
    call npm install
    if %errorlevel% neq 0 (
        echo ‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π!
        pause
        exit /b 1
    )
) else (
    echo ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
)

echo.
echo [4/4] –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞...
echo üåê –°–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000
echo üõë –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
echo.
echo ========================================
echo.

npm run dev